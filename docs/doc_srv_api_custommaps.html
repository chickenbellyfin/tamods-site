<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Custom Maps · TAMods</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Since dedicated servers are now available, custom maps are a natural next step. It has been proven that custom maps are _possible_, but they have not yet been implemented in a way that is practical or user-friendly enough for widespread adoption."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Custom Maps · TAMods"/><meta property="og:type" content="website"/><meta property="og:url" content="http://www.tamods.org/index.html"/><meta property="og:description" content="Since dedicated servers are now available, custom maps are a natural next step. It has been proven that custom maps are _possible_, but they have not yet been implemented in a way that is practical or user-friendly enough for widespread adoption."/><meta property="og:image" content="http://www.tamods.org/img/docusaurus.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="http://www.tamods.org/img/docusaurus.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="http://www.tamods.org/blog/atom.xml" title="TAMods Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="http://www.tamods.org/blog/feed.xml" title="TAMods Blog RSS Feed"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/img-blank.png" alt="TAMods"/><h2 class="headerTitleWithLogo">TAMods</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/blog" target="_self">News</a></li><li class=""><a href="/docs/doc_user_install.html" target="_self">Get TAMods</a></li><li class=""><a href="/docs/doc_dev_intro.html" target="_self">TAMods Docs</a></li><li class="siteNavGroupActive"><a href="/docs/doc_srv_api_overview.html" target="_self">TAMods-Server Docs</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Server Setup</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Introduction</h3><ul><li class="navListItem"><a class="navItem" href="/docs/doc_srv_intro.html">Introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/doc_srv_api_overview.html">API Overview</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Server Setup</h3><ul><li class="navListItem"><a class="navItem" href="/docs/doc_srv_api_serverconfig.html">Server Settings</a></li><li class="navListItem"><a class="navItem" href="/docs/doc_srv_api_admin.html">Server Administration</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/doc_srv_api_custommaps.html">Custom Maps</a></li><li class="navListItem"><a class="navItem" href="/docs/doc_srv_api_loadouts.html">Loadouts and Item Bans</a></li><li class="navListItem"><a class="navItem" href="/docs/doc_srv_api_customclasses.html">Custom Classes</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Game Modification</h3><ul><li class="navListItem"><a class="navItem" href="/docs/doc_srv_api_properties_overview.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/doc_srv_api_properties_valuemods.html">ValueMods</a></li><li class="navListItem"><a class="navItem" href="/docs/doc_srv_api_properties_items.html">Items</a></li><li class="navListItem"><a class="navItem" href="/docs/doc_srv_api_properties_classes.html">Classes</a></li><li class="navListItem"><a class="navItem" href="/docs/doc_srv_api_properties_vehicles.html">Vehicles</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Custom Maps</h1></header><article><div><span><p>Since dedicated servers are now available, custom maps are a natural next step. It has been proven that custom maps are <em>possible</em>, but they have not yet been implemented in a way that is practical or user-friendly enough for widespread adoption.</p>
<p>Getting this working right now requires a fair bit of technical knowledge, so try at your own risk.</p>
<h1><a class="anchor" aria-hidden="true" id="setting-up-mapping-in-the-udk"></a><a href="#setting-up-mapping-in-the-udk" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setting Up Mapping in the UDK</h1>
<p>This document describes the current process for getting a custom map running on your server.</p>
<p>The process of setting up custom mapping is very similar to how it worked for the old leaked SDK. A few guides for that:</p>
<ul>
<li><a href="http://wiki.theexiled.pwnageservers.com/Mapping_for_the_Tribes:_Ascend_SDK">http://wiki.theexiled.pwnageservers.com/Mapping_for_the_Tribes:_Ascend_SDK</a></li>
<li><a href="http://wiki.theexiled.pwnageservers.com/Tribes:_Ascend/SDK_Mapping_for_the_Lazy">http://wiki.theexiled.pwnageservers.com/Tribes:_Ascend/SDK_Mapping_for_the_Lazy</a></li>
<li><a href="http://wiki.theexiled.pwnageservers.com/Tribes:_Ascend/SDK_Guide_to_Mapping">http://wiki.theexiled.pwnageservers.com/Tribes:_Ascend/SDK_Guide_to_Mapping</a></li>
</ul>
<p>You need the January 2011 UDK beta specifically (build 7748); another version won't work.</p>
<p>You'll need the actor classes (<a href="http://library.theexiled.pwnageservers.com/file.php?id=2948">http://library.theexiled.pwnageservers.com/file.php?id=2948</a>) and the asset packages (<a href="http://library.theexiled.pwnageservers.com/category.php?id=202">http://library.theexiled.pwnageservers.com/category.php?id=202</a>).</p>
<p>Since those above guides exist I'm not going into full detail here on setting the UDK editor up for Tribes mapping.</p>
<h1><a class="anchor" aria-hidden="true" id="making-it-actually-work-with-t-a-parting-gifts"></a><a href="#making-it-actually-work-with-t-a-parting-gifts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Making It Actually Work With T:A Parting Gifts</h1>
<p>If you follow the above guides, you'll find you can successfully run your map on the leaked SDK build of Tribes. If you try to run the maps in the Parting Gifts clients, you'll find that it first attempts to compile missing shaders, which fails and crashes the game/server. On-the-fly compilation of missing shaders seems to be broken in the release version of T:A.</p>
<p>So we need a way to precompile the shaders the custom map uses. Unreal engine stores the shaders in a file in CookedPC called <code>RefShaderCache-PC-D3D-SM3.upk</code>. If you cook your custom map in the UDK Frontend (available in the binaries folder of the UDK), it will generate such a RefShaderCache file with your shaders. But there's a problem: this file contains your map's shaders, but it <em>doesn't</em> contain the shaders that Tribes normally has, so if you replace the game's cache with the one you built, the game will completely fail to boot. What we need is a shader cache file which merges the existing T:A shaders with the ones for your map.</p>
<p>It's possible to achieve this by taking advantage of the fact that in its uncooked state, the UDK editor puts its compiled shaders in a different file - <code>LocalShaderCache-PC-D3D-SM3.upk</code>, in the Content directory for UDKGame.</p>
<p>So what you need to do is compile your map's shaders into the editor (by loading the map package, and making sure you've 'fully loaded' the TA asset packages), and then take the normal T:A RefShaderCache and put it into the Content directory alongside the LocalShaderCache.</p>
<p>Then, when you cook your packages, the resulting RefShaderCache will contain the shaders from both the RefShaderCache and LocalShaderCache. You can loosely verify this by checking that the filesize of the resulting RefShaderCache is larger than the one you took from T:A's CookedPC directory.</p>
<p>Finally, put the newly cooked RefShaderCache into Tribes' CookedPC (backing up the old one first!), and you should be able to run your server without it attempting and failing to compile missing shaders.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/doc_srv_api_admin.html">← Server Administration</a><a class="docs-next button" href="/docs/doc_srv_api_loadouts.html">Loadouts and Item Bans →</a></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/img-blank.png" alt="TAMods" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/en/doc_user_install.html">Get TAMods</a><a href="/docs/en/doc_dev_intro.html">TAMods Documentation</a><a href="/docs/en/doc_srv_api_overview.html">TAMods-Server Documentation</a></div><div><h5>Community</h5><a href="http://www.reddit.com/r/tribes" target="_blank" rel="noreferrer noopener">Tribes Subreddit</a><a href="https://discord.gg/ySkx6Cg" target="_blank" rel="noreferrer noopener">Australian Tribes Discord</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://github.com/mcoot/tamods-site">Site GitHub</a></div></section><section class="copyright">Copyright © 2019 TAMods Team</section></footer></div></body></html>