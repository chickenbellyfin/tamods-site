"use strict";(self.webpackChunktamods_site=self.webpackChunktamods_site||[]).push([[8921],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return c}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=u(n),c=i,k=m["".concat(s,".").concat(c)]||m[c]||p[c]||r;return n?a.createElement(k,o(o({ref:t},d),{},{components:n})):a.createElement(k,o({ref:t},d))}));function c(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var u=2;u<r;u++)o[u]=n[u];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6321:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return u},toc:function(){return d},default:function(){return m}});var a=n(7462),i=n(3366),r=(n(7294),n(3905)),o=["components"],l={id:"doc_srv_api_loadouts",title:"Loadouts and Item Bans",sidebar_label:"Loadouts and Item Bans",sidebar_position:4},s=void 0,u={unversionedId:"server/server-setup/doc_srv_api_loadouts",id:"server/server-setup/doc_srv_api_loadouts",isDocsHomePage:!1,title:"Loadouts and Item Bans",description:"Loadouts",source:"@site/docs/server/server-setup/doc_srv_api_loadouts.md",sourceDirName:"server/server-setup",slug:"/server/server-setup/doc_srv_api_loadouts",permalink:"/docs/server/server-setup/doc_srv_api_loadouts",editUrl:"https://github.com/mcoot/tamods-site/tree/master/docs/server/server-setup/doc_srv_api_loadouts.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{id:"doc_srv_api_loadouts",title:"Loadouts and Item Bans",sidebar_label:"Loadouts and Item Bans",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Custom Maps",permalink:"/docs/server/server-setup/doc_srv_api_custommaps"},next:{title:"Custom Classes",permalink:"/docs/server/server-setup/doc_srv_api_customclasses"}},d=[{value:"Loadouts",id:"loadouts",children:[{value:"Equip Points",id:"equip-points",children:[],level:3},{value:"Hardcoded Loadouts",id:"hardcoded-loadouts",children:[{value:"Forcing Hardcoded Loadouts",id:"forcing-hardcoded-loadouts",children:[],level:4}],level:3}],level:2},{value:"Limits and Bans",id:"limits-and-bans",children:[{value:"Class Limits",id:"class-limits",children:[],level:3},{value:"Weapon Bans",id:"weapon-bans",children:[],level:3},{value:"Mutual Exclusions",id:"mutual-exclusions",children:[],level:3},{value:"Equipment Slots",id:"equipment-slots",children:[],level:3}],level:2}],p={toc:d};function m(e){var t=e.components,n=(0,i.Z)(e,o);return(0,r.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"loadouts"},"Loadouts"),(0,r.kt)("h3",{id:"equip-points"},"Equip Points"),(0,r.kt)("p",null,"Weapons and items must be equipped at 'item slots' or ",(0,r.kt)("em",{parentName:"p"},"equip points"),"; the Equip Points enum gives the possible slots at which an item may be equipped."),(0,r.kt)("p",null,"The available equip points are listed below. Note that not all equip points are fully functional in the current version of the game."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Loadouts.EquipPoints.None")," (Invalid equip point which will not apply a weapon)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Loadouts.EquipPoints.Melee")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Loadouts.EquipPoints.Primary")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Loadouts.EquipPoints.Secondary")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Loadouts.EquipPoints.Tertiary")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Loadouts.EquipPoints.Quarternary")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Loadouts.EquipPoints.Pack")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Loadouts.EquipPoints.Belt")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Loadouts.EquipPoints.Deployable")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Loadouts.EquipPoints.LaserTarget")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Loadouts.EquipPoints.Armor")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Loadouts.EquipPoints.PerkA")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Loadouts.EquipPoints.PerkB")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Loadouts.EquipPoints.Skin")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Loadouts.EquipPoints.Voice"))),(0,r.kt)("h3",{id:"hardcoded-loadouts"},"Hardcoded Loadouts"),(0,r.kt)("p",null,"The server admin can specify a set of hardcoded loadouts, which will be used as a fallback if the player's own selected loadouts cannot be retrieved - usually because the server is running standalone (not connected to a TAServer login server). Alternately these can be used to override a player's selected loadout with the ",(0,r.kt)("inlineCode",{parentName:"p"},"ServerSettings.ForceHardcodedLoadouts")," option."),(0,r.kt)("p",null,"Nine loadouts, numbered ",(0,r.kt)("inlineCode",{parentName:"p"},"0")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"8")," (corresponding to Loadouts ",(0,r.kt)("inlineCode",{parentName:"p"},"A")," through ",(0,r.kt)("inlineCode",{parentName:"p"},"I")," in-game) can be set for each class, via the following class of functions:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Loadouts.Hardcoded.<ClassType>.set(loadoutNumber: integer, equipPoint: EquipPoint, itemName: string)")),(0,r.kt)("p",null,"Getter functions are also provided:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Loadouts.Hardcoded.<ClassType>.get(loadoutNumber: integer, equipPoint: EquipPoint): string")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"<ClassType>")," should be one of ",(0,r.kt)("inlineCode",{parentName:"p"},"Light"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Medium")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"Heavy"),", as in the following example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},'Loadouts.Hardcoded.Light.set(0, Loadouts.EquipPoints.Primary, "Light Spinfusor")\nLoadouts.Hardcoded.Medium.set(3, Loadouts.EquipPoints.Belt, "EMP Grenades")\nLoadouts.Hardcoded.Heavy.set(8, Loadouts.EquipPoints.Pack, "Forcefield")\n')),(0,r.kt)("h4",{id:"forcing-hardcoded-loadouts"},"Forcing Hardcoded Loadouts"),(0,r.kt)("p",null,"Via the ",(0,r.kt)("inlineCode",{parentName:"p"},"ForceHardcodedLoadouts")," server setting, it is possible to have server-side hardcoded loadouts take precedence over player-selected ones (rather than them being a fallback). This may be useful if you want to restrict players to ",(0,r.kt)("em",{parentName:"p"},"only")," using specific loadouts."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Variable"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ServerSettings.ForceHardcodedLoadouts"),(0,r.kt)("td",{parentName:"tr",align:null},"boolean"),(0,r.kt)("td",{parentName:"tr",align:null},"false"),(0,r.kt)("td",{parentName:"tr",align:null},"If true, game server hardcoded loadouts will take precedence over player selected loadouts")))),(0,r.kt)("h2",{id:"limits-and-bans"},"Limits and Bans"),(0,r.kt)("p",null,"TAMods-Server allows for limiting class numbers, banning weapons, and also restricting the available equip points (i.e. item slots) for players."),(0,r.kt)("h3",{id:"class-limits"},"Class Limits"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Variable"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ServerSettings.LightCountLimit"),(0,r.kt)("td",{parentName:"tr",align:null},"int"),(0,r.kt)("td",{parentName:"tr",align:null},"32"),(0,r.kt)("td",{parentName:"tr",align:null},"Maximum number of lights allowed per team")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ServerSettings.MediumCountLimit"),(0,r.kt)("td",{parentName:"tr",align:null},"int"),(0,r.kt)("td",{parentName:"tr",align:null},"32"),(0,r.kt)("td",{parentName:"tr",align:null},"Maximum number of mediums allowed per team")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ServerSettings.HeavyCountLimit"),(0,r.kt)("td",{parentName:"tr",align:null},"int"),(0,r.kt)("td",{parentName:"tr",align:null},"32"),(0,r.kt)("td",{parentName:"tr",align:null},"Maximum number of heavies allowed per team")))),(0,r.kt)("h3",{id:"weapon-bans"},"Weapon Bans"),(0,r.kt)("p",null,"Weapon bans can be added or removed via the following functions:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"ServerSettings.BannedItems.add(class: string, itemName: string)")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"ServerSettings.BannedItems.remove(class: string, itemName: string)")),(0,r.kt)("p",null,"So for instance, to ban the Light Spinfusor, the Assault Rifle and the Nova Colt, you would use:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},'ServerSettings.BannedItems.add("Light", "Light Spinfusor")\nServerSettings.BannedItems.add("Medium", "Assault Rifle")\nServerSettings.BannedItems.add("Heavy", "Nova Colt")\n')),(0,r.kt)("h3",{id:"mutual-exclusions"},"Mutual Exclusions"),(0,r.kt)("p",null,"A slightly more advanced form of control is to make two items ",(0,r.kt)("em",{parentName:"p"},"mutually exclusive"),", so that either weapon on its own is allowed, but the combination is not. These can be modified through the functions:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"ServerSettings.MutuallyExclusiveItems.add(class1: string, itemName1: string, class2: string, itemname2: string)")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"ServerSettings.MutuallyExclusiveItems.remove(class1: string, itemName1: string, class2: string, itemname2: string)")),(0,r.kt)("p",null,"So for instance, to make the Assault Rifle incompatible with the Spinfusor, you could use:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},'ServerSettings.MutuallyExclusiveItems.add("Medium", "Assault Rifle", "Medium", "Spinfusor")\n')),(0,r.kt)("h3",{id:"equipment-slots"},"Equipment Slots"),(0,r.kt)("p",null,"You can also restrict the equipment slots available based on class. This can be used to, for instance, give the Light class two weapons rather than three, or to ban grenades. The equip point is selected using the ",(0,r.kt)("a",{parentName:"p",href:"#equip-points"},"Equip Points")," enum."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"ServerSettings.DisabledEquipPoints.add(class: string, equipPoint: EquipPoint)")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"ServerSettings.DisabledEquipPoints.remove(class: string, equipPoint: EquipPoint)")),(0,r.kt)("p",null,"So to give Lights and Mediums two weapons rather than three, you would use:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},'ServerSettings.DisabledEquipPoints.add("Light", Loadouts.EquipPoints.Tertiary)\nServerSettings.DisabledEquipPoints.add("Medium", Loadouts.EquipPoints.Tertiary)\n')))}m.isMDXComponent=!0}}]);